self.JSDON=function(e){"use strict";const{parse:t}=JSON,a=e=>{const t=e.length-1,a=e[t];"number"==typeof a&&a<0?e[t]+=-1:e.push(-1)},s=({name:e,value:t},a)=>{a.push(2,e),t&&a.push(t)},r=(e,t,n)=>{const{nodeType:l}=e;switch(l){case 1:n(e)&&(({attributes:e,childNodes:t,localName:n},l,o)=>{l.push(1,n);for(let t=0,{length:a}=e;t<a;t++)s(e[t],l);for(let e=0,{length:a}=t;e<a;e++)r(t[e],l,o);a(l)})(e,t,n);break;case 3:case 8:n(e)&&t.push(l,e.data);break;case 11:case 9:n(e)&&(t.push(l),(({childNodes:e},t,s)=>{for(let a=0,{length:n}=e;a<n;a++)r(e[a],t,s);a(t)})(e,t,n));break;case 10:n(e)&&t.push(l,e.name)}},n=()=>!0;return e.fromJSON=(e,a=document)=>{const s="string"==typeof e?t(e):e,{length:r}=s,n=a.createDocumentFragment();let l=n,o=!1,c=a,m=!0,h=0;for(;h<r;){let e=s[h++];switch(e){case 1:const t=s[h++],r=t.toLowerCase(),i=[];let p=0,u="";for(;2===s[h];){const e=s[++h],t="string"==typeof s[h+1]?s[++h]:"";"is"===e&&(u=t),p=i.push({name:e,value:t}),h++}(m||r!==l.localName.toLowerCase())&&(l=l.appendChild("svg"===r||"ownerSVGElement"in l?c.createElementNS("http://www.w3.org/2000/svg",t):u?c.createElement(t,{is:u}):c.createElement(t)));for(let e=0;e<p;e++)l.setAttribute(i[e].name,i[e].value);m=!0;break;case 3:l.appendChild(c.createTextNode(s[h++]));break;case 8:l.appendChild(c.createComment(s[h++]));break;case 9:const d=new a.defaultView.DOMParser;if(10===s[h])switch(h++,s[h++]){case"html":case"HTML":c=d.parseFromString("<!DOCTYPE html><html></html>","text/html");break;case"svg":case"SVG":c=d.parseFromString("<!DOCTYPE svg><svg />","image/svg+xml");break;default:c=d.parseFromString("<root />","text/xml")}else c=d.parseFromString("<html></html>","text/html");l=c.documentElement,m=!1;break;case 11:o=!0;break;default:do{e-=-1,l=l.parentNode||n}while(e<0)}}return o?n:c!==a?c:n.firstChild},e.toJSON=(e,t)=>{const a=[];return r(e,a,t||n),a},e}({});
